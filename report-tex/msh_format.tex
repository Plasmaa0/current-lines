\section{Входные данные. Формат модели .msh}
Входные данные, а именно
\begin{enumerate}
	\item[---] список вершин модели;
	\item[---] список конечных элементов, описанных наборами вершин;
	\item[---] значение векторного поля в вершинах;
\end{enumerate}
загужаются в программу из исходного файла формата \verb|.msh|. Рассмотрим данный формат. Полное описание можно найти здесь \url{https://www.manpagez.com/info/gmsh/gmsh-2.4.0/gmsh_56.php}.
\subsection{Структура формата .msh}
Формат полного файла модели в формате \verb|.msh|:
\input{msh_example}
Рассмотрим по отдельности важные для нас части файла.
\begin{enumerate}
	\item 
	\begin{verbatim}
		$MeshFormat
		version-number file-type data-size
		$EndMeshFormat
	\end{verbatim}
	Эта секция хранит в себе информацию о версии формата, типе кодировки текста и количестве байт необходимых для хранения чисел с плавающей точкой.
	
	\item
	\begin{verbatim}
		$Nodes
		number-of-nodes
		node-number x-coord y-coord z-coord
		...
		$EndNodes
	\end{verbatim}
	Эта секция хранит в себе информацию о вершинах модели, а также общее количество вершин. Например
	\begin{verbatim}
		$Nodes
		431
		1 0 0 0
		2 0.1 0 0
		3 0.1 0.3 0
		4 0 0.3 0
		5 0.009999999999982483 0 0
		6 0.019999999999956 0 0
		...
		$EndNodes
	\end{verbatim}
	Первая строчка содержит общее количество вершин. В каждой следующей строчке записаны последовательно: номер вершины, её координаты $x,y,z$. Для двухмерных моделей всё равно записываются 3 координаты, просто $z$ оставляют равным 0.
	
	\item
	\begin{verbatim}
		$Elements
		number-of-elements
		elm-number elm-type number-of-tags <tag> … node-number-list
		…
		$EndElements
	\end{verbatim}
	В этой секции записаны конечные элементы. В первой строчке записано их общее количество. В остальных строчках записана информация о каждом из элементов:
	\begin{itemize}
		\item номер элемента
		\item тип элемента (см. раздел \ref{elem_types})
		\item количество \textit{тэгов} элемента
		\item перечислены все \textit{тэги} элемента
		\item перечислены по их номерам все вершины элемента
	\end{itemize}
	Теги элемента - разнообразная дополнительная информация об элементе. Например для улучшения визуализации в тэгах можно оставить информацию о том, каким цветом программа должна отрисовывать элемент на экран. Разработанная программа пропускает тэги элемента, поскольку они не играют важной роли при решении задачи построения линий тока.
	
	Пример данной секции файла:
	\begin{verbatim}
		$Elements
		780
		1 2 0 71 212 303
		2 2 0 105 230 281
		3 2 0 106 229 282
		...
		851 2 0 84 339 429
		852 2 0 155 397 376
		$EndElements
	\end{verbatim}
	\item 
	\begin{verbatim}
		$PhysicalNames
		...
		$EndPhysicalNames
	\end{verbatim}
	Пропускаем этот раздел. Он не несет в себе важной для решения задачи построения линий тока информации.
	\item
	\begin{verbatim}
		$NodeData
		number-of-string-tags
		< "string-tag" >
		…
		number-of-real-tags
		< real-tag >
		…
		number-of-integer-tags
		< integer-tag >
		…
		node-number value …
		…
		$EndNodeData
	\end{verbatim}
	Данная часть файла содержит дополнительную информацию (тэги) о вершинах. Именно она будет использоваться для хранения значений векторного поля в вершинах модели.
	
	Первая строчка содержит информацию о количестве тэгов -- строк, далее их перечисление.
	
	Первая строчка после тэгов -- строк содержит информацию о количестве тэгов -- действительных чисел, далее их перечисление.
	
	Первая строчка после тэгов -- действительных чисел содержит информацию о количестве тэгов -- целых чисел, далее их перечисление.
	
	Далее построчно идет информация о каждой вершине в формате: номер вершины, значения...
	
	На примере подписан смысл каждых значений тегов:
	\begin{verbatim}
		$NodeData
		1           один тег строка
		"Scalar"    тип значений "скаляры"
		1           один тег действительное число
		0           начальный момент времени 0
		3           три тега целых числа
		0           шаг времени (не используется программой)
		3           количество скаляров в каждой вершине
		16          количество вершин с доп. данным
		1 10 2.5 0
		2 10 2.5 0
		3 10 2.5 0
		...
		$EndNodeData
	\end{verbatim}
	\item
	\begin{verbatim}
		$ElementData
		…
		$EndElementData
	\end{verbatim}
	Пропускаем этот раздел. Он не несет в себе важной для решения задачи построения линий тока информации.
	\item
	\begin{verbatim}
		$ElementNodeData
		…
		$ElementEndNodeData
	\end{verbatim}
	Пропускаем этот раздел. Он не несет в себе важной для решения задачи построения линий тока информации.
\end{enumerate}
\subsection{Типы элементов в формате .msh}\label{elem_types}
При определении каждого элемента указывается его \textit{тип} -- второе число в строке информации об элементе:
\begin{Verbatim}[commandchars=+\[\]]
	1 +underline[3] 0 5 6 2 1
\end{Verbatim}
Данное число соотвествует определенному типу КЭ, список КЭ, которые планируется поддерживать программой:
\begin{itemize}
	\item Двухмерные КЭ (\textit{полностью реализованы}):
	\begin{enumerate}
		\item[2 ---] треугольник
		\item[3 ---] четырехугольник
	\end{enumerate}
	
	\item Трехмерные КЭ (\textit{планируется реализовать позже}):
	\begin{enumerate}
		\item[4 ---] тетраэдр
		\item[5 ---] гексаэдр
		\item[6 ---] прямоугольная призма с треугольным основанием
		\item[7 ---] пирамида с квадратным основанием
	\end{enumerate}
\end{itemize}